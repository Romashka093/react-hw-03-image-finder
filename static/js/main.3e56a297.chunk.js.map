{"version":3,"sources":["searchbar/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","searchbar/modal/Modal.module.css","searchbar/imageGallery/ImageGallery.module.css","searchbar/button/Button.module.css","searchbar/Searchbar.module.css","searchbar/imageGallery/imageGalleryItem/ImageGalleryItem.js","searchbar/modal/Modal.js","searchbar/imageGallery/ImageGallery.js","searchbar/button/Button.js","searchbar/Searchbar.js","searchbar/errorNotification/ErrorNotification.js","searchbar/loader/CustomLoader.js","services/images-api.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","id","src","alt","onOpenModal","handleBackdropClick","key","onClick","className","css","ImageGalleryItemImage","Modal","image","onCloseModal","modalImages","handleKeyPress","evt","target","nodeName","Overlay","largeImageURL","ImageGallery","state","isModalOpen","modalId","console","log","code","keyCode","dir","currentTarget","Number","props","images","filter","setState","window","addEventListener","this","removeEventListener","map","tags","webformatURL","Component","Button","handleClickButton","Searchbar","searchQuery","handleChange","value","handleSubmit","preventDefault","onSubmit","pageNumber","prevProps","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","updateQuery","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","length","ErrorNotification","text","CustomLoader","color","height","width","timeout","axios","defaults","baseURL","fetchImages","get","process","initialState","isLoading","error","query","App","getImg","a","imagesAPI","takeImages","data","hits","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3e56a297.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2K5GD\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1jmaW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__IO326\",\"Modal\":\"Modal_Modal__7mS0z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1tgtH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2k2wZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2miQO\",\"SearchForm\":\"Searchbar_SearchForm__2TFRQ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1HiJs\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2cktd\",\"SearchFormInput\":\"Searchbar_SearchFormInput__63gCq\"};","import React, { Fragment } from 'react';\n\nimport css from './ImageGalleryItem.module.css';\n\nexport function ImageGalleryItem({\n  id,\n  src,\n  alt,\n  handleBackdropClick,\n  onOpenModal,\n}) {\n  return (\n    <Fragment>\n      <li key={id} onClick={onOpenModal} className={css.ImageGalleryItem}>\n        <img\n          id={id}\n          src={src}\n          alt={alt}\n          className={css.ImageGalleryItemImage}\n        />\n      </li>\n    </Fragment>\n  );\n}\n","import React, { Fragment } from 'react';\nimport css from './Modal.module.css';\n\nexport function Modal({\n  image,\n  onOpenModal,\n  onCloseModal,\n  modalImages,\n  handleKeyPress,\n}) {\n  return (\n    <Fragment>\n      <div\n        onClick={evt => {\n          if (evt.target.nodeName !== 'IMG') {\n            onCloseModal();\n          }\n        }}\n        className={css.Overlay}\n      >\n        <div className={css.Modal} onClick={handleKeyPress}>\n          <img src={modalImages.largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n// onClick={e => {\n//   if (e.target.nodeName !== \"IMG\") {\n//     handleClose();\n//   }\n// }}\n// export class Modal extends Component {\n// state = {\n// \tisModuleOpen: false\n// };\n// componentDidMount() {\n// \tconsole.log('componentDidMount');\n// \twindow.addEventListener('keydown', this.handleKeyPress);\n// }\n\n// componentWillUpdate() {\n// \tconsole.log('componentWillUpdate');\n// \twindow.removeEventListener('keydown', this.handleKeyPress);\n// }\n\n// handleKeyPress = (evt) => {\n// \tconsole.log('handleKeyPress');\n\n// \tif (evt.code !== 'Escape') return;\n// \tthis.onCloseModal();\n// };\n\n// onOpenModal = () => {\n// \tconsole.log('openModal');\n// \tthis.setState({ isModalOpen: true });\n// };\n\n// onCloseModal = () => {\n// \tconsole.log('closeModal');\n// \tthis.setState({ isModalOpen: false });\n// };\n// \trender() {\n// \t\tconst { image, onCloseModal } = this.props;\n// \t\treturn (\n// \t\t\t<div onClick={onCloseModal} className={css.Overlay}>\n// \t\t\t\t<div className={css.Modal}>\n// \t\t\t\t\t<img src={image} alt=\"\" />\n// \t\t\t\t</div>\n// \t\t\t</div>\n// \t\t);\n// \t}\n// }\n\n// largeImageURL\n","import React, { Fragment, Component } from 'react';\nimport { ImageGalleryItem } from './imageGalleryItem/ImageGalleryItem.js';\nimport { Modal } from './../modal/Modal';\nimport css from './ImageGallery.module.css';\n\n// export function ImageGallery({ images }) {\n// \treturn (\n// <Fragment>\n// \t<ul className={css.ImageGallery}>\n// \t\t<ImageGalleryItem images={images} />\n// \t</ul>\n// </Fragment>\n// \t);\n// }\n\nexport class ImageGallery extends Component {\n  state = {\n    isModalOpen: false,\n    modalId: null,\n    modalImages: [],\n  };\n  componentDidMount() {\n    window.addEventListener('keypress', this.handleKeyPress);\n    console.log('addEventListener');\n  }\n\n  componentWillUpdate() {\n    this.state.isModalOpen\n      ? window.removeEventListener('keypress', this.handleKeyPress)\n      : window.addEventListener('keypress', this.handleKeyPress);\n    console.log('removeEventListener');\n  }\n\n  handleKeyPress = evt => {\n    console.log('handleKeyPress');\n\n    console.log(evt.code);\n    console.log(evt.keyCode);\n    // evt.target.nodeName\n\n    if (evt.code !== 'Escape') {\n      return;\n    } else {\n      this.onCloseModal();\n    }\n  };\n\n  handleBackdropClick = evt => {\n    console.dir('handleBackdropClick currentTarget', evt.currentTarget);\n    console.dir('handleBackdropClick target', evt.target);\n    if (Number(evt.target.id) !== Number(this.state.modalImages.id)) {\n      return;\n    }\n    this.onCloseModal();\n  };\n\n  onOpenModal = evt => {\n    const { images } = this.props;\n    const [modalImages] = images.filter(\n      image => image.id === Number(evt.target.id),\n    );\n    console.log('onOpenModal');\n    this.setState({ isModalOpen: true, modalImages, modalId: evt.target.id });\n  };\n\n  onCloseModal = () => {\n    console.log('closeModal');\n    this.setState({ isModalOpen: false });\n  };\n  render() {\n    const { images } = this.props;\n    const { isModalOpen, modalId, modalImages } = this.state;\n    return (\n      <Fragment>\n        {isModalOpen && (\n          <Modal\n            image={modalId}\n            modalImages={modalImages}\n            onOpenModal={this.onOpenModal}\n            onCloseModal={this.onCloseModal}\n            handleKeyPress={this.handleKeyPress}\n          />\n        )}\n        <ul className={css.ImageGallery}>\n          {images.map(image => (\n            <ImageGalleryItem\n              handleBackdropClick={this.handleBackdropClick}\n              alt={image.tags}\n              src={image.webformatURL}\n              id={image.id}\n              key={image.key}\n              onOpenModal={this.onOpenModal}\n            />\n          ))}\n        </ul>\n      </Fragment>\n    );\n  }\n}\n","import React, { Fragment } from 'react';\nimport css from './Button.module.css';\n\nexport function Button({ handleClickButton }) {\n  return (\n    <Fragment>\n      <button onClick={handleClickButton} className={css.Button}>\n        Load more\n      </button>\n    </Fragment>\n  );\n}\n","import React, { Component, Fragment } from 'react';\nimport { ImageGallery } from './imageGallery/ImageGallery';\nimport css from './Searchbar.module.css';\nimport { Button } from './button/Button';\n\nexport class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('componentDidUpdate BAR');\n\n    if (prevProps.pageNumber > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleChange = evt => {\n    this.setState({\n      searchQuery: evt.target.value,\n    });\n  };\n\n  handleSubmit = evt => {\n    evt.preventDefault();\n    this.props.onSubmit(this.state.searchQuery);\n  };\n\n  handleClickButton = () => {\n    this.props.onSubmit(this.state.searchQuery, this.props.pageNumber);\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    const { images, updateQuery } = this.props;\n    return (\n      <Fragment>\n        <header className={css.Searchbar}>\n          <form onSubmit={this.handleSubmit} className={css.SearchForm}>\n            <button type=\"submit\" className={css.SearchFormButton}>\n              <span className={css.SearchFormButtonLabel}>Search</span>\n            </button>\n\n            <input\n              className={css.SearchFormInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={searchQuery}\n              onChange={this.handleChange}\n              onClick={() => {\n                updateQuery(searchQuery);\n              }}\n            />\n          </form>\n        </header>\n        {images.length > 0 && <ImageGallery images={images} />}\n        {images.length >= 11 && (\n          <Button handleClickButton={this.handleClickButton} />\n        )}\n      </Fragment>\n    );\n  }\n}\n","import React from 'react';\n\nexport function ErrorNotification({ text }) {\n  return <h2>Woooooops! Somethink went wrong: {text}!</h2>;\n}\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport function CustomLoader() {\n  return (\n    <>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={800}\n        width={800}\n        timeout={5000}\n      />\n    </>\n  );\n}\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nexport const fetchImages = (searchQuery, pageNumber) =>\n  axios.get(\n    `/?q=${searchQuery}&page=${pageNumber}&key=${process.env.REACT_APP_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n","import React, { Component } from 'react';\nimport { Searchbar } from './searchbar/Searchbar';\nimport css from './App.css';\nimport { ErrorNotification } from './searchbar/errorNotification/ErrorNotification';\nimport { CustomLoader } from './searchbar/loader/CustomLoader';\nimport * as imagesAPI from './services/images-api.js';\n\nconst initialState = {\n  images: [],\n  isLoading: false,\n  error: null,\n  pageNumber: 1,\n  query: '',\n};\n\nexport class App extends Component {\n  state = {\n    ...initialState,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.pageNumber !== this.state.pageNumber ||\n      prevState.query !== this.state.query\n    ) {\n      if (prevState.query !== this.state.query) {\n        this.setState({\n          images: [],\n          pageNumber: 1,\n        });\n      }\n      this.setState({ isLoading: true });\n    }\n  }\n\n  updateQuery = value => {\n    this.setState({\n      query: value,\n    });\n  };\n\n  getImg = async searchQuery => {\n    this.setState({ isLoading: true });\n\n    try {\n      const takeImages = await imagesAPI.fetchImages(\n        searchQuery,\n        this.state.pageNumber,\n      );\n\n      this.setState(prevState => ({\n        images: [...prevState.images, ...takeImages.data.hits],\n        pageNumber: prevState.pageNumber + 1,\n      }));\n    } catch (error) {\n      console.log(error);\n      this.setState({ error });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  // ///////////////// Modal /////////////////\n  // onOpenModal = () => {\n  // \tconsole.log('openModal');\n  // \tthis.setState({ isModalOpen: true });\n  // };\n\n  // onCloseModal = () => {\n  // \tconsole.log('closeModal');\n  // \tthis.setState({ isModalOpen: false });\n  // };\n\n  render() {\n    const { images, isLoading, error, pageNumber } = this.state;\n    return (\n      <div className={css.App}>\n        <Searchbar\n          initialState={initialState}\n          onSubmit={this.getImg}\n          images={images}\n          pageNumber={pageNumber}\n          updateQuery={this.updateQuery}\n        />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <CustomLoader />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}